function [dx, y] = func2segODE_m(t, x, u,diag_alpha,diag_k,diag_d, varargin)
% Output equations.
%   y = [x(1);x(3);x(5);x(7)];% a1 l1 a2 l2
y = x;% full state feedback
% State equations.
m0 = (100 + 34*2 + 25*5)/1000; %kg
h0 = 0.01; %m
g = 9.8; %N/kg
tauy1 = u(1);
fz1 = u(2);
tauy2 = u(3);
fz2 = u(4);
theta1 = x(1); dtheta1 = x(2); lc1 = x(3); dlc1 = x(4);
theta2 = x(5); dtheta2 = x(6); lc2 = x(7); dlc2 = x(8);
if theta1 <= 0.005
    r3 = 0.5 * lc1;
else
    r3 = lc1/(theta1)*sin(theta1/2);
end

if theta2 <= 0.005
    r6 = 0.5*lc2;
else
    r6 = lc2/(theta2)*sin(theta2/2);
end
Iyy3 = m0 * r3^2;
Iyy6 = 0.5 * m0 * r6^2;

if theta1 <= 0.005

    M =[Iyy3 + Iyy6 + (m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2))^2)/2 + m0*(h0 + lc1/2)^2 + (m0*sin(theta2)^2*(h0 + lc2/2)^2)/2, -(m0*sin(theta2)*(h0 + lc2/2))/2, Iyy6 + (m0*sin(theta2)^2*(h0 + lc2/2)^2)/2 + (m0*cos(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2, (m0*sin(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/4 - (m0*sin(theta2)*(h0 + lc2/2))/4 - (m0*cos(theta2)*sin(theta2)*(h0 + lc2/2))/4;
        -(m0*sin(theta2)*(h0 + lc2/2))/2,(13*m0)/8, -(m0*sin(theta2)*(h0 + lc2/2))/2,m0/4 + (m0*cos(theta2))/4;
        Iyy6 + (m0*sin(theta2)^2*(h0 + lc2/2)^2)/2 + (m0*cos(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2, -(m0*sin(theta2)*(h0 + lc2/2))/2, Iyy6 + (m0*sin(theta2)^2*(h0 + lc2/2)^2)/2 + (m0*cos(theta2)^2*(h0 + lc2/2)^2)/2, -(m0*sin(theta2)*(h0 + lc2/2))/4;
        (m0*sin(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/4 - (m0*sin(theta2)*(h0 + lc2/2))/4 - (m0*cos(theta2)*sin(theta2)*(h0 + lc2/2))/4,m0/4 + (m0*cos(theta2))/4, -(m0*sin(theta2)*(h0 + lc2/2))/4,m0/8 + (m0*cos(theta2)^2)/8 + (m0*sin(theta2)^2)/8 + (m0*cos(theta2))/4];




    C =[dtheta2*((m0*cos(theta2)*sin(theta2)*(h0 + lc2/2)^2)/2 - (m0*sin(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2) + (dlc1*((m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*(2*h0 + lc1))/2))/2 + (dlc2*((m0*cos(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 + (dlc2*m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/4, - (dtheta1*((m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + m0*(h0 + lc1/2)))/2 - (dtheta1*((m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*(2*h0 + lc1))/2))/2 - (dlc2*m0*sin(theta2))/4 - (dtheta2*m0*cos(theta2)*(h0 + lc2/2))/2, (dlc2*((m0*cos(theta2)^2*(h0 + lc2/2))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 - dtheta1*((m0*cos(theta2)*sin(theta2)*(h0 + lc2/2)^2)/2 - (m0*sin(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2) + (dlc1*m0*cos(theta2)*(h0 + lc2/2))/4 + (dlc2*m0*cos(theta2)*(h0 + lc2/2))/4, (dlc1*m0*sin(theta2))/8 - (dtheta1*((m0*cos(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 - (dtheta2*((m0*cos(theta2)^2*(h0 + lc2/2))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 - (dtheta1*m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/4 - (dtheta2*m0*cos(theta2)*(h0 + lc2/2))/4;
        (dtheta1*((m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*(2*h0 + lc1))/2))/2, 0,(dtheta1*m0*cos(theta2)*(h0 + lc2/2))/4,(dtheta1*m0*sin(theta2))/8;
        dtheta1*((m0*cos(theta2)*sin(theta2)*(h0 + lc2/2)^2)/2 - (m0*sin(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2) + dtheta2*((m0*cos(theta2)*sin(theta2)*(h0 + lc2/2)^2)/2 - (m0*sin(theta2)*(h0 + lc2/2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2) + (dlc2*((m0*cos(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2, - (dlc2*m0*sin(theta2))/4 - (dtheta1*m0*cos(theta2)*(h0 + lc2/2))/2 - (dtheta2*m0*cos(theta2)*(h0 + lc2/2))/2, (dlc2*((m0*cos(theta2)^2*(2*h0 + lc2))/4 + (m0*sin(theta2)^2*(2*h0 + lc2))/4))/2, - (dtheta1*((m0*cos(theta2)^2*(h0 + lc2/2))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 - (dtheta2*((m0*cos(theta2)^2*(2*h0 + lc2))/4 + (m0*sin(theta2)^2*(2*h0 + lc2))/4))/2 - (dlc2*m0*sin(theta2))/8 - (dtheta1*m0*cos(theta2)*(h0 + lc2/2))/4 - (dtheta2*m0*cos(theta2)*(h0 + lc2/2))/4;
        (dtheta1*((m0*cos(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 + (dtheta2*((m0*cos(theta2)*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 + (dtheta1*m0*(2*h0 + lc1/2 + lc2/2 + cos(theta2)*(h0 + lc2/2)))/4, - (dtheta1*m0*sin(theta2))/4 - (dtheta2*m0*sin(theta2))/4,(dtheta1*((m0*cos(theta2)^2*(h0 + lc2/2))/2 + (m0*sin(theta2)^2*(h0 + lc2/2))/2))/2 + (dtheta2*((m0*cos(theta2)^2*(2*h0 + lc2))/4 + (m0*sin(theta2)^2*(2*h0 + lc2))/4))/2 + (dtheta1*m0*cos(theta2)*(h0 + lc2/2))/4, -(dtheta2*m0*sin(theta2))/8];


    G =[
        -(g*m0*sin(theta2)*(h0 + lc2/2))/2;
        (3*g*m0)/2;
        -(g*m0*sin(theta2)*(h0 + lc2/2))/2;
        (g*m0)/4 + (g*m0*cos(theta2))/4];

elseif theta2 <= 0.005

    M =[ Iyy3 + Iyy6 + (m0*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2))^2)/2 + (m0*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))^2)/2 + m0*sin(theta1)^2*(h0 + lc1/2)^2 + m0*cos(theta1)^2*(h0 + lc1/2)^2, (m0*sin(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/4 - (m0*sin(theta1)*(h0 + lc1/2))/2 - (m0*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/4 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/4, Iyy6 + (m0*cos(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2, (m0*sin(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2;
        (m0*sin(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/4 - (m0*sin(theta1)*(h0 + lc1/2))/2 - (m0*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/4 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/4,m0/2 + (3*m0*cos(theta1)^2)/8 + (3*m0*sin(theta1)^2)/8 + (3*m0*cos(theta1))/4, -(m0*sin(theta1)*(h0 + lc2/2))/4,(m0*cos(theta1)^2)/4 + (m0*sin(theta1)^2)/4 + (m0*cos(theta1))/4;
        Iyy6 + (m0*cos(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2, -(m0*sin(theta1)*(h0 + lc2/2))/4, Iyy6 + (m0*sin(theta1)^2*(h0 + lc2/2)^2)/2 + (m0*cos(theta1)^2*(h0 + lc2/2)^2)/2, 0;
        (m0*sin(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2, (m0*cos(theta1)^2)/4 + (m0*sin(theta1)^2)/4 + (m0*cos(theta1))/4,0, (m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2];


    C =[dlc2*((m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2) - dtheta2*((m0*sin(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2) + (dlc1*((m0*cos(theta1)^2*(2*h0 + lc1))/2 + (m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)^2*(2*h0 + lc1))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2))/2, - (dtheta1*((m0*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + m0*cos(theta1)*(h0 + lc1/2)))/2 - (dtheta2*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2 - (dtheta1*((m0*cos(theta1)^2*(2*h0 + lc1))/2 + (m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)^2*(2*h0 + lc1))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2))/2 - (3*dlc1*m0*sin(theta1))/8 - (dlc2*m0*sin(theta1))/4 - (dtheta2*m0*cos(theta1)*(h0 + lc2/2))/4, (dlc1*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2 + dlc2*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2) + dtheta1*((m0*sin(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2), - dtheta2*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2) - dtheta1*((m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2);
        (dtheta1*((m0*cos(theta1)^2*(2*h0 + lc1))/2 + (m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)^2*(2*h0 + lc1))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2))/2,-(3*dtheta1*m0*sin(theta1))/8, (dtheta1*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2, 0;
        (dlc2*((m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2))/2 - dtheta1*((m0*sin(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2) - dtheta2*((m0*sin(theta1)*(h0 + lc2/2)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 - (m0*cos(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2))*(h0 + lc2/2))/2),- (dtheta1*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2 - (dtheta2*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2 - (dlc2*m0*sin(theta1))/8 - (dtheta1*m0*cos(theta1)*(h0 + lc2/2))/4 - (dtheta2*m0*cos(theta1)*(h0 + lc2/2))/4,(dlc2*((m0*cos(theta1)^2*(2*h0 + lc2))/4 + (m0*sin(theta1)^2*(2*h0 + lc2))/4))/2, - dtheta1*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2) - (dtheta2*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2))/2 - (dtheta2*((m0*cos(theta1)^2*(2*h0 + lc2))/4 + (m0*sin(theta1)^2*(2*h0 + lc2))/4))/2;
        dtheta1*((m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2) + (dtheta2*((m0*cos(theta1)*(cos(theta1)*(h0 + lc1/2) + 2*cos(theta1)*(h0 + lc2/2)))/2 + (m0*sin(theta1)*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2))/2,- (dtheta1*m0*sin(theta1))/4 - (dtheta2*m0*sin(theta1))/8, dtheta1*((m0*cos(theta1)^2*(h0 + lc2/2))/2 + (m0*sin(theta1)^2*(h0 + lc2/2))/2) + (dtheta2*((m0*cos(theta1)^2*(2*h0 + lc2))/4 + (m0*sin(theta1)^2*(2*h0 + lc2))/4))/2, 0];


    G =[- (g*m0*(sin(theta1)*(h0 + lc1/2) + 2*sin(theta1)*(h0 + lc2/2)))/2 - g*m0*sin(theta1)*(h0 + lc1/2);
        (3*g*m0)/4 + (3*g*m0*cos(theta1))/4;
        -(g*m0*sin(theta1)*(h0 + lc2/2))/2;
        (g*m0*cos(theta1))/2];

else

    M =[ Iyy3 + Iyy6 + (m0*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2))^2)/2 + (m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2))^2)/2 - ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + m0*sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1)) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(2*m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) - (m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - m0*sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + (3*m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((3*m0*cos(theta1)^2)/2 + (3*m0*sin(theta1)^2)/2) + (m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (3*m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2) + m0*cos(theta1)^2*(h0 + (lc1*tan(theta1/2))/theta1)^2 + m0*sin(theta1)^2*(h0 + (lc1*tan(theta1/2))/theta1)^2, (tan(theta1/2)*(2*m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) - (m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - m0*sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + (3*m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2))/theta1 + (tan(theta1/2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((3*m0*cos(theta1)^2)/2 + (3*m0*sin(theta1)^2)/2) + (m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (3*m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2))/theta1, Iyy6 + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + (m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2, (tan(theta2/2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + (m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2))/theta2 + (tan(theta2/2)*(((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2))/theta2;
        ((2*m0*tan(theta1/2))/theta1 + (3*m0*tan(theta1/2)*cos(theta1))/(2*theta1))*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + ((tan(theta1/2)*((3*m0*cos(theta1)^2)/2 + (3*m0*sin(theta1)^2)/2))/theta1 + (3*m0*tan(theta1/2)*cos(theta1))/(2*theta1))*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) - (tan(theta1/2)*((m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + m0*sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1)))/theta1 + (tan(theta1/2)*((m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2))/theta1, (tan(theta1/2)*((2*m0*tan(theta1/2))/theta1 + (3*m0*tan(theta1/2)*cos(theta1))/(2*theta1)))/theta1 + (tan(theta1/2)*((tan(theta1/2)*((3*m0*cos(theta1)^2)/2 + (3*m0*sin(theta1)^2)/2))/theta1 + (3*m0*tan(theta1/2)*cos(theta1))/(2*theta1)))/theta1,((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((tan(theta1/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta1 + (m0*tan(theta1/2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/(2*theta1)) + ((tan(theta1/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta1 + (m0*tan(theta1/2)*cos(theta1))/(2*theta1))*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (tan(theta1/2)*((m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta1 - (m0*tan(theta1/2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/(2*theta1), (tan(theta2/2)*((tan(theta1/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta1 + (m0*tan(theta1/2)*cos(theta1))/(2*theta1)))/theta2 + (tan(theta2/2)*((tan(theta1/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta1 + (m0*tan(theta1/2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/(2*theta1)))/theta2;
        Iyy6 + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + ((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2))/2) + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2, (tan(theta1/2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta1 + (tan(theta1/2)*((m0*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2))/2))/theta1,Iyy6 + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2)) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2)^2)/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2)^2)/2, (tan(theta2/2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2)))/theta2 + (tan(theta2/2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta2;
        ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*tan(theta2/2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/(2*theta2) + (m0*tan(theta2/2)*cos(theta1))/(2*theta2)) + ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta2) + (tan(theta2/2)*((m0*sin(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*cos(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2))/theta2 + (tan(theta2/2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2))/theta2,(tan(theta1/2)*((m0*tan(theta2/2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/(2*theta2) + (m0*tan(theta2/2)*cos(theta1))/(2*theta2)))/theta1 + (tan(theta1/2)*((tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta2))/theta1,((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta2) + ((tan(theta2/2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (tan(theta2/2)*((m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 - (m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta2, (tan(theta2/2)*((tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)^2)/2 + (m0*sin(theta1)^2)/2))/theta2))/theta2 + (tan(theta2/2)*((tan(theta2/2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/2))/theta2 + (tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2))/theta2];


    C =[ dtheta2*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) - ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((m0*cos(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1)*((m0*cos(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + ((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2)*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2) - ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(dtheta1*((m0*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + m0*cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1)) + (3*m0*sin(theta1)*(dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2))/2 + (m0*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (3*dtheta1*m0*sin(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2 + (dtheta2*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2), - (tan(theta1/2)*(dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((m0*cos(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta1 - (tan(theta1/2)*(dtheta1*((m0*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + m0*cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1)) + (3*m0*sin(theta1)*(dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2))/2 + (m0*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (3*dtheta1*m0*sin(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2 + (dtheta2*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta1, (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) - ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) - dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) - dtheta2*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) - dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2), (tan(theta2/2)*((dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dlc1*tan(theta1/2))/theta1)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) - dtheta2*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) - dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + dtheta1*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2 - (tan(theta2/2)*(dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2;
    (dtheta1*tan(theta1/2)*((m0*cos(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*sin(theta1)^2*(2*h0 + (2*lc1*tan(theta1/2))/theta1))/2 + (m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2))/theta1 - (3*dtheta1*m0*tan(theta1/2)*sin(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/(2*theta1), -(3*dtheta1*m0*tan(theta1/2)^2*sin(theta1))/(2*theta1^2), (dtheta1*tan(theta1/2)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta1 + (dtheta1*tan(theta1/2)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2))/theta1, (dtheta1*tan(theta1/2)*tan(theta2/2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2))/(theta1*theta2);
    dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + dtheta2*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 - (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) - ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(dtheta1*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + dtheta2*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2)) + ((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2)*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2) - ((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((dtheta1*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta2*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta1*m0*sin(theta1)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2))/2 + (dtheta1*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (dtheta2*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta1*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2),- (tan(theta1/2)*(dtheta1*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta1 - (tan(theta1/2)*(((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((dtheta1*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta2*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2) + (m0*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta1*m0*sin(theta1)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2))/2 + (dtheta1*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (dtheta2*m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta1, ((m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/4 + (m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/4)*(dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2) - ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta1*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/4 + (m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/4))*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) - ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/4 + (m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/4) - dtheta1*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + dtheta1*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2), - (tan(theta2/2)*(dtheta1*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2) + ((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)) + (dtheta2*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2) + (dlc2*tan(theta2/2))/theta2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2 - (tan(theta2/2)*(dtheta1*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/4 + (m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/4) - dtheta1*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2;
    (tan(theta2/2)*(dtheta1*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2) + dtheta2*((m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2)))/theta2 - ((tan(theta2/2)*((dtheta1*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta2*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (dtheta1*m0*tan(theta2/2)*sin(theta1))/(2*theta2))*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2) + (dtheta1*tan(theta2/2)*((m0*cos(theta1)*((cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2) + cos(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + cos(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (m0*sin(theta1)*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2))/theta2 - (tan(theta2/2)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2,- (tan(theta1/2)*((tan(theta2/2)*((dtheta1*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 + (dtheta2*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2))/theta2 + (dtheta1*m0*tan(theta2/2)*sin(theta1))/(2*theta2)))/theta1 - (tan(theta1/2)*tan(theta2/2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/(theta1*theta2), (tan(theta2/2)*(dtheta1*((m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2*(h0 + (lc2*tan(theta2/2))/theta2))/2) + dtheta2*((m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))^2)/4 + (m0*(2*h0 + (2*lc2*tan(theta2/2))/theta2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))^2)/4)))/theta2 + (dtheta1*tan(theta2/2)*((m0*sin(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2 + (m0*cos(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2))*(h0 + (lc2*tan(theta2/2))/theta2))/2))/theta2 - (tan(theta2/2)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2 + (dtheta1*tan(theta2/2)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2))/theta2, (dtheta1*tan(theta2/2)^2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2))/theta2^2 - (tan(theta2/2)^2*(dtheta1*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2) + dtheta2*((m0*cos(theta1)*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1)))/2 - (m0*sin(theta1)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2)))/theta2^2];


    G =[(3*g*m0*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2 - (g*m0*((cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2) + sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1) + sin(theta1)*(h0 + (lc2*tan(theta2/2))/theta2)))/2 + (3*g*m0*cos(theta1)*((lc1*(tan(theta1/2)^2/2 + 1/2))/theta1 - (lc1*tan(theta1/2))/theta1^2))/2 - g*m0*sin(theta1)*(h0 + (lc1*tan(theta1/2))/theta1);
        (3*g*m0*tan(theta1/2))/(2*theta1) + (3*g*m0*tan(theta1/2)*cos(theta1))/(2*theta1);
        (g*m0*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/2 + (g*m0*cos(theta1)*((lc2*(tan(theta2/2)^2/2 + 1/2))/theta2 - (lc2*tan(theta2/2))/theta2^2))/2 - (g*m0*(cos(theta1)*sin(theta2) + cos(theta2)*sin(theta1))*(h0 + (lc2*tan(theta2/2))/theta2))/2;
        (g*m0*tan(theta2/2)*cos(theta1))/(2*theta2) + (g*m0*tan(theta2/2)*(cos(theta1)*cos(theta2) - sin(theta1)*sin(theta2)))/(2*theta2)];


end

temp_dx = M\(diag(diag_alpha) * [tauy1;fz1;tauy2;fz2]...
    - diag(diag_k)*[x(1);x(3);x(5);x(7)] ...
    - (diag(diag_d) + C)*[x(2);x(4);x(6);x(8)] ...
    - G ...
    );
dx = [x(2);temp_dx(1);x(4);temp_dx(2);x(6);temp_dx(3);x(8);temp_dx(4);];
end